{"version":3,"file":"_page.svelte-Pcwy62Gx.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/checkout/_page.svelte.js"],"sourcesContent":["import { V as store_get, Z as ensure_array_like, Y as attr, X as escape_html, W as unsubscribe_stores, T as pop, Q as push } from \"../../../chunks/index.js\";\nimport \"../../../chunks/client.js\";\nimport { w as writable } from \"../../../chunks/index2.js\";\nfunction _page($$payload, $$props) {\n  push();\n  var $$store_subs;\n  let cart = [];\n  let Name = \"\";\n  let email = \"\";\n  let phone = \"\";\n  let address = \"\";\n  let city = \"\";\n  let postalCode = \"\";\n  let isLoading = writable(true);\n  const provinces = [\n    \"กรุงเทพมหานคร\",\n    \"กระบี่\",\n    \"กาญจนบุรี\",\n    \"กาฬสินธุ์\",\n    \"กำแพงเพชร\",\n    \"ขอนแก่น\",\n    \"จันทบุรี\",\n    \"ฉะเชิงเทรา\",\n    \"ชลบุรี\",\n    \"ชัยนาท\",\n    \"ชัยภูมิ\",\n    \"ชุมพร\",\n    \"เชียงราย\",\n    \"เชียงใหม่\",\n    \"ตรัง\",\n    \"ตราด\",\n    \"ตาก\",\n    \"นครนายก\",\n    \"นครปฐม\",\n    \"นครพนม\",\n    \"นครราชสีมา\",\n    \"นครศรีธรรมราช\",\n    \"นครสวรรค์\",\n    \"นนทบุรี\",\n    \"นราธิวาส\",\n    \"น่าน\",\n    \"บึงกาฬ\",\n    \"บุรีรัมย์\",\n    \"ปทุมธานี\",\n    \"ประจวบคีรีขันธ์\",\n    \"ปราจีนบุรี\",\n    \"ปัตตานี\",\n    \"พระนครศรีอยุธยา\",\n    \"พะเยา\",\n    \"พังงา\",\n    \"พัทลุง\",\n    \"พิจิตร\",\n    \"พิษณุโลก\",\n    \"เพชรบุรี\",\n    \"เพชรบูรณ์\",\n    \"แพร่\",\n    \"ภูเก็ต\",\n    \"มหาสารคาม\",\n    \"มุกดาหาร\",\n    \"แม่ฮ่องสอน\",\n    \"ยโสธร\",\n    \"ยะลา\",\n    \"ร้อยเอ็ด\",\n    \"ระนอง\",\n    \"ระยอง\",\n    \"ราชบุรี\",\n    \"ลพบุรี\",\n    \"ลำปาง\",\n    \"ลำพูน\",\n    \"เลย\",\n    \"ศรีสะเกษ\",\n    \"สกลนคร\",\n    \"สงขลา\",\n    \"สตูล\",\n    \"สมุทรปราการ\",\n    \"สมุทรสงคราม\",\n    \"สมุทรสาคร\",\n    \"สระแก้ว\",\n    \"สระบุรี\",\n    \"สิงห์บุรี\",\n    \"สุโขทัย\",\n    \"สุพรรณบุรี\",\n    \"สุราษฎร์ธานี\",\n    \"สุรินทร์\",\n    \"หนองคาย\",\n    \"หนองบัวลำภู\",\n    \"อ่างทอง\",\n    \"อำนาจเจริญ\",\n    \"อุดรธานี\",\n    \"อุตรดิตถ์\",\n    \"อุทัยธานี\",\n    \"อุบลราชธานี\"\n  ];\n  function getTotalPrice() {\n    let total = cart.reduce(\n      (sum, item) => {\n        return sum + item.book_price * item.amount;\n      },\n      0\n    );\n    return total.toFixed(2);\n  }\n  if (store_get($$store_subs ??= {}, \"$isLoading\", isLoading)) {\n    $$payload.out += \"<!--[-->\";\n    $$payload.out += `<div class=\"fixed inset-0 flex items-center justify-center bg-blue-50 z-50\"><div class=\"spinner animate-spin w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full\"></div></div>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n    const each_array = ensure_array_like(cart);\n    const each_array_1 = ensure_array_like(provinces);\n    $$payload.out += `<div class=\"flex flex-col md:flex-row gap-6 p-6\"><div class=\"flex-1 bg-white p-6 rounded-lg shadow\"><h2 class=\"text-lg font-semibold mb-4\">ตะกร้าสินค้า</h2> <!--[-->`;\n    for (let index = 0, $$length = each_array.length; index < $$length; index++) {\n      let item = each_array[index];\n      $$payload.out += `<div class=\"flex items-center gap-4 border-b pb-4 mb-4\"><img${attr(\"src\", item.book_image)} alt=\"Product\" class=\"w-20 h-20 object-cover rounded-lg\"> <div class=\"flex-1\"><h3 class=\"text-sm font-medium\">${escape_html(item.book_name_th)}</h3> <p class=\"text-lg font-semibold text-blue-600\">${escape_html(item.book_price)} บาท</p></div> <div class=\"flex items-center\"><span class=\"px-4\">${escape_html(item.amount)}</span></div></div> `;\n      if (item.marker) {\n        $$payload.out += \"<!--[-->\";\n        $$payload.out += `<p>Name:${escape_html(item.marker)} Cover Color:${escape_html(item.cover_color)}</p>`;\n      } else {\n        $$payload.out += \"<!--[!-->\";\n      }\n      $$payload.out += `<!--]-->`;\n    }\n    $$payload.out += `<!--]--></div> <div class=\"w-full md:w-1/3 bg-white p-6 rounded-lg shadow self-start\"><h2 class=\"text-lg font-semibold mb-4\">สรุปการสั่งซื้อ</h2> <div class=\"flex justify-between mb-2\"><span>จำนวนหนังสือ</span> <span>${escape_html(cart.reduce((sum, item) => sum + item.amount, 0))} เล่ม</span></div> <div class=\"flex justify-between font-bold text-lg\"><span>ยอดสุทธิ</span> <span>${escape_html(getTotalPrice())} บาท</span></div></div></div> <div class=\"container mx-auto p-4\"><h1 class=\"text-2xl font-bold mb-4\">ข้อมูลการจัดส่ง</h1> <form class=\"grid grid-cols-1 md:grid-cols-2 gap-4\"><div><label for=\"firstName\" class=\"block text-sm font-medium text-gray-700\">ชื่อ - นามสกุล</label> <input type=\"text\" id=\"firstName\"${attr(\"value\", Name)} class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\" required></div> <div><label for=\"email\" class=\"block text-sm font-medium text-gray-700\">อีเมล</label> <input type=\"email\" id=\"email\"${attr(\"value\", email)} class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\" required></div> <div><label for=\"phone\" class=\"block text-sm font-medium text-gray-700\">เบอร์โทรศัพท์</label> <input type=\"tel\" id=\"phone\"${attr(\"value\", phone)} class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\" required></div> <div class=\"md:col-span-2\"><label for=\"address\" class=\"block text-sm font-medium text-gray-700\">ที่อยู่</label> <input type=\"text\" id=\"address\"${attr(\"value\", address)} class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\" required></div> <div><label for=\"city\" class=\"block text-sm font-medium text-gray-700\">ตำบล/แขวง</label> <input type=\"text\" id=\"city\"${attr(\"value\", city)} class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\" required></div> <div><label for=\"province\" class=\"block text-sm font-medium text-gray-700\">จังหวัด</label> <select id=\"province\" class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\" required><option value=\"\" disabled selected>เลือกจังหวัด</option><!--[-->`;\n    for (let $$index_1 = 0, $$length = each_array_1.length; $$index_1 < $$length; $$index_1++) {\n      let provinceOption = each_array_1[$$index_1];\n      $$payload.out += `<option${attr(\"value\", provinceOption)}>${escape_html(provinceOption)}</option>`;\n    }\n    $$payload.out += `<!--]--></select></div> <div><label for=\"postalCode\" class=\"block text-sm font-medium text-gray-700\">รหัสไปรษณีย์</label> <input type=\"text\" id=\"postalCode\"${attr(\"value\", postalCode)} class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\" required></div> <div class=\"md:col-span-2\"><button type=\"submit\" class=\"w-full bg-indigo-600 border border-transparent rounded-md py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\">สั่งซื้อสินค้า</button></div></form></div>`;\n  }\n  $$payload.out += `<!--]-->`;\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}