{"version":3,"file":"_page.svelte-C2l2PU5l.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/cart/_page.svelte.js"],"sourcesContent":["import { V as store_get, Y as attr, X as escape_html, Z as ensure_array_like, W as unsubscribe_stores, T as pop, _ as stringify, Q as push } from \"../../../chunks/index.js\";\nimport \"../../../chunks/client.js\";\nimport { w as writable } from \"../../../chunks/index2.js\";\nfunction _page($$payload, $$props) {\n  push();\n  var $$store_subs;\n  let filteredCart;\n  const isLoading = writable(true);\n  let cart = [];\n  function getTotalPrice() {\n    let total = filteredCart.reduce(\n      (sum, item) => {\n        return sum + item.book_price * item.amount;\n      },\n      0\n    );\n    return total.toFixed(2);\n  }\n  filteredCart = cart.filter((item) => {\n    {\n      return item.type === \"official\";\n    }\n  });\n  if (store_get($$store_subs ??= {}, \"$isLoading\", isLoading)) {\n    $$payload.out += \"<!--[-->\";\n    $$payload.out += `<div class=\"fixed inset-0 flex items-center justify-center bg-blue-50 z-50\"><div class=\"spinner animate-spin w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full\"></div></div>`;\n  } else {\n    $$payload.out += \"<!--[!-->\";\n    $$payload.out += `<div class=\"flex flex-col md:flex-row gap-6 p-6\"><div class=\"flex-1 bg-white p-6 rounded-lg shadow\"><h2 class=\"text-lg font-semibold mb-4\">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2> <div class=\"mb-4\"><button${attr(\"class\", `px-4 py-2 rounded ${stringify(\"bg-blue-500 text-white\")}`)}>Official : ${escape_html(cart.filter((item) => item.type === \"official\").length)}</button> <button${attr(\"class\", `px-4 py-2 rounded ${stringify(\"bg-gray-200\")}`)}>Official : ${escape_html(cart.filter((item) => item.type === \"seller\").length)}</button></div> `;\n    {\n      $$payload.out += \"<!--[-->\";\n      const each_array = ensure_array_like(filteredCart);\n      if (each_array.length !== 0) {\n        $$payload.out += \"<!--[-->\";\n        for (let index = 0, $$length = each_array.length; index < $$length; index++) {\n          let item = each_array[index];\n          $$payload.out += `<div class=\"flex items-center gap-4 border-b pb-4 mb-4\"><img${attr(\"src\", item.book_image)} alt=\"Product\" class=\"w-20 h-20 object-cover rounded-lg\"> <div class=\"flex-1\"><h3 class=\"text-sm font-medium\">${escape_html(item.book_name_th)}</h3> <p class=\"text-lg font-semibold text-blue-600\">${escape_html(item.book_price)} ‡∏ö‡∏≤‡∏ó</p></div> <div class=\"flex items-center\"><button class=\"px-2 py-1 border rounded\">-</button> <span class=\"px-4\">${escape_html(item.amount)}</span> <button class=\"px-2 py-1 border rounded\">+</button></div> <button class=\"text-gray-500 hover:text-red-500\">üóëÔ∏è</button></div> `;\n          if (item.marker) {\n            $$payload.out += \"<!--[-->\";\n            $$payload.out += `<p>${escape_html(item.marker)} ${escape_html(item.cover_color)}</p>`;\n          } else {\n            $$payload.out += \"<!--[!-->\";\n          }\n          $$payload.out += `<!--]-->`;\n        }\n      } else {\n        $$payload.out += \"<!--[!-->\";\n        $$payload.out += `<p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>`;\n      }\n      $$payload.out += `<!--]-->`;\n    }\n    $$payload.out += `<!--]--></div> <div class=\"w-full md:w-1/3 bg-white p-6 rounded-lg shadow self-start\"><h2 class=\"text-lg font-semibold mb-4\">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2> <div class=\"flex justify-between mb-2\"><span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</span> <span>${escape_html(filteredCart.reduce((sum, item) => sum + item.amount, 0))} ‡πÄ‡∏•‡πà‡∏°</span></div> <div class=\"flex justify-between font-bold text-lg\"><span>‡∏¢‡∏≠‡∏î‡∏™‡∏∏‡∏ó‡∏ò‡∏¥</span> <span>${escape_html(getTotalPrice())} ‡∏ö‡∏≤‡∏ó</span></div> `;\n    if (filteredCart.length != 0) {\n      $$payload.out += \"<!--[-->\";\n      $$payload.out += `<button class=\"w-full bg-green-500 text-white py-2 rounded mt-4\">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠</button>`;\n    } else {\n      $$payload.out += \"<!--[!-->\";\n    }\n    $$payload.out += `<!--]--> <button class=\"w-full border mt-2 py-2 rounded text-white bg-blue-500\">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πà‡∏≠</button></div></div>`;\n  }\n  $$payload.out += `<!--]-->`;\n  if ($$store_subs) unsubscribe_stores($$store_subs);\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}