import{a as l,t as n,c as ye}from"../chunks/BpdS5ozQ.js";import"../chunks/ak-IiZ70.js";import{p as Qa,f as T,a as Ba,b as c,h as pt,g as t,m as X,c as a,r as e,s as r,t as y,n as Be,e as It,J as Wa}from"../chunks/BkNIMPUX.js";import{s as p}from"../chunks/8GdiTE-D.js";import{i as d}from"../chunks/BO1fjogy.js";import{e as ne,i as Me}from"../chunks/DCYGmzsl.js";import{r as Ue,s as ht,b as sa,c as Za}from"../chunks/H21sVsVO.js";import{s as yt}from"../chunks/20z5p9mC.js";import{e as b}from"../chunks/BpZ3buzO.js";import{t as et,q as Ga,a as Va,f as we,b as Bt}from"../chunks/pl10jhQ3.js";import{b as oa}from"../chunks/BzbwHmVE.js";import{b as la}from"../chunks/DgiSkNF1.js";import{s as ia}from"../chunks/Bfc47y5P.js";import{i as Xa}from"../chunks/CPaK9zB5.js";import{s as Ka,a as na}from"../chunks/Cu0EAYA7.js";import{g as Fe}from"../chunks/CPiIr9-y.js";import{o as Ya,w as pa}from"../chunks/BrBxsZ45.js";import{g as Ia}from"../chunks/C42RF6-C.js";var tr=n('<div class="fixed inset-0 flex items-center justify-center bg-blue-50 z-50"><div class="spinner animate-spin w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full"></div></div>'),er=n('<li><i class="fa-solid fa-box mr-2"></i>คำสั่งซื้อของร้าน</li>'),ar=n('<div class="absolute bg-blue-600 w-64 rounded-lg shadow-lg p-4 z-10 top-16 left-4"><button class="text-white text-right block w-full"><i class="fa-solid fa-times"></i></button> <ul class="mt-4 space-y-2"><li><i class="fa-solid fa-user mr-2"></i>บัญชีผู้ใช้</li> <li><i class="fa-solid fa-box mr-2"></i>คำสั่งซื้อของฉัน</li> <!> <li><i class="fa-solid fa-store mr-2"></i>การขอเปิดร้านค้า</li></ul></div>'),rr=n('<li><i class="fa-solid fa-box mr-2"></i>คำสั่งซื้อของร้าน</li>'),sr=n('<div class="bg-white rounded-lg shadow-md p-6"><h1 class="text-2xl font-semibold mb-4">บัญชีผู้ใช้</h1> <div class="flex items-center mb-4"><img alt="Profile" class="w-20 h-20 rounded-full mr-4 ring-2 ring-blue-500"> <div><p class="text-lg font-medium">ชื่อบัญชี: <span class="font-normal"> </span></p> <p class="text-gray-600"> </p> <p class="text-gray-600"> </p></div></div> <form class="mt-6 space-y-4"><div><label class="block text-gray-700 text-sm font-bold mb-2" for="name">ชื่อบัญชี:</label> <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500" id="name" type="text" name="name"></div> <div><label class="block text-gray-700 text-sm font-bold mb-2" for="email">อีเมล:</label> <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500" id="email" type="text" name="email"></div> <div><label class="block text-gray-700 text-sm font-bold mb-2" for="pass">รหัสผ่าน:</label> <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500" id="pass" type="password" name="pass" placeholder="********"> <p class="text-xs text-gray-500 mt-1">ปล่อยว่างไว้ หากไม่ต้องการเปลี่ยนรหัสผ่าน</p></div> <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">บันทึก</button></form></div>'),or=n('<div class="bg-yellow-50 border-l-4 border-yellow-400 p-4"><p class="font-bold text-yellow-700">ยังไม่มีคำสั่งซื้อ</p> <p class="text-sm text-yellow-600">คุณยังไม่มีรายการสั่งซื้อใด ๆ ในขณะนี้.</p></div>'),lr=n('<span class="text-sm text-green-600"><i class="fas fa-check-circle mr-1"></i> ส่งสลิปแล้ว</span>'),ir=n('<div class="flex flex-col items-start space-y-2"><input type="file" accept="image/*" class="text-sm"> <button class="px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors">Upload Slip</button></div>'),nr=n('<button class="text-white bg-blue-600 hover:text-blue-800 p-2 transition-colors">ได้รับสินค้าเเล้ว</button>'),pr=n('<img alt="Uploaded Slip" style="max-width: 200px;" class="mb-4 rounded-lg shadow-sm">'),cr=n('รหัสติดตามของ: <span class="text-gray-700"> </span>',1),dr=n('<img alt="Uploaded Slip" style="max-width: 200px;" class="mb-4 rounded-lg shadow-sm">'),ur=n('<div class="mb-4 p-4 border rounded-lg shadow-sm flex items-start bg-white"><div><p class="font-semibold text-blue-600"> </p> <p class="text-sm"><span class="font-semibold">Price:</span> </p> <p class="text-sm"><span class="font-semibold">Total:</span> </p></div></div>'),vr=n('<tr><td colspan="6" class="bg-gray-50 p-4"><!> <p class="mb-1 text-sm font-semibold">Fullname: <span class="text-gray-700"> </span></p> <p class="mb-1 text-sm font-semibold">Email: <span class="text-gray-700"> </span></p> <p class="mb-1 text-sm font-semibold">Phone: <span class="text-gray-700"> </span></p> <p class="mb-3 text-sm font-semibold">Address: <span class="text-gray-700"> </span></p> <!> <!> <h4 class="text-lg font-semibold mb-2">Items:</h4> <!></td></tr>'),mr=n('<tr class="transition-colors duration-200 hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap"><!></td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><!></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><button class="text-blue-600 hover:text-blue-800 transition-colors"> </button></td></tr> <!>',1),_r=n('<h2 class="text-xl font-semibold mb-4 text-blue-600">Publisher Orders</h2> <div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">วันที่</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">สถานะ</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ยอดรวม</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">การจ่ายเงิน</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ดำเนินการ</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">รายละเอียด</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div>',1),xr=n('<span class="text-sm text-green-600"><i class="fas fa-check-circle mr-1"></i> ส่งสลิปแล้ว</span>'),fr=n('<div class="flex flex-col items-start space-y-2"><input type="file" accept="image/*" class="text-sm"> <button class="px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors">Upload Slip</button></div>'),br=n('<button class="text-white bg-blue-600 hover:text-blue-800 p-2 transition-colors">ได้รับสินค้าเเล้ว</button>'),gr=n('<img alt="Uploaded Slip Seller" style="max-width: 200px;" class="mb-4 rounded-lg shadow-sm">'),hr=n('รหัสติดตามของ: <span class="text-gray-700"> </span>',1),yr=n('<img alt="Payment Slip" class="mb-4 rounded-lg shadow-sm">'),wr=n('<div class="mb-4 p-4 border rounded-lg shadow-sm flex items-start bg-white"><div><p class="font-semibold text-blue-600"> </p> <p class="text-sm"><span class="font-semibold">Price:</span> </p> <p class="text-sm"><span class="font-semibold">Total:</span> </p></div></div>'),kr=n('<tr><td colspan="6" class="bg-gray-50 p-4"><!> <p class="mb-1 text-sm font-semibold">Fullname: <span class="text-gray-700"> </span></p> <p class="mb-1 text-sm font-semibold">Email: <span class="text-gray-700"> </span></p> <p class="mb-1 text-sm font-semibold">Phone: <span class="text-gray-700"> </span></p> <p class="mb-3 text-sm font-semibold">Address: <span class="text-gray-700"> </span></p> <!> <!> <h4 class="text-lg font-semibold mb-2">Items:</h4> <!></td></tr>'),Sr=n('<tr class="transition-colors duration-200 hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap"><!></td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><!></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><button class="text-blue-600 hover:text-blue-800 transition-colors"> </button></td></tr> <!>',1),Pr=n('<h2 class="text-xl font-semibold mb-4 text-blue-600 mt-8">Seller Orders</h2> <div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">วันที่</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">สถานะ</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ยอดรวม</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">การจ่ายเงิน</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ดำเนินการ</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">รายละเอียด</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div>',1),$r=n("<!> <!>",1),Tr=n('<div class="bg-white rounded-lg shadow-md p-6"><h1 class="text-2xl font-semibold mb-6">คำสั่งซื้อของฉัน</h1> <!></div>'),Dr=n("<p>Loading...</p>"),Cr=n('<div class="mb-4"><p class="text-lg font-medium">สถานะ: <span> </span></p> <p> </p> <p>QR Code:</p> <img alt="QR Code" class="mt-2 max-h-48"> <p>Proof Image:</p> <img alt="Proof of Identity" class="mt-2 max-h-48"></div>'),Or=n('<img alt="QR Code Preview" class="mt-2 max-h-48">'),qr=n('<img alt="ID Card Preview" class="mt-2 max-h-48">'),jr=n('<form class="space-y-4"><div><label for="qrCode" class="block text-sm font-medium text-gray-700">รูป QR Code:</label> <input type="file" id="qrCode" accept="image/*" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"> <!></div> <div><label for="idCard" class="block text-sm font-medium text-gray-700">รูปบัตรประชาชน:</label> <input type="file" id="idCard" accept="image/*" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"> <!></div> <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">ส่งคำขอ</button></form>'),Er=n('<div class="bg-white rounded-lg shadow-md p-6"><h1 class="text-2xl font-semibold mb-4">การขอเปิดร้านค้า</h1> <!></div>'),Ar=n('<div class="bg-yellow-50 border-l-4 border-yellow-400 p-4"><p class="font-bold text-yellow-700">ยังไม่มีคำสั่งซื้อ</p> <p class="text-sm text-yellow-600">คุณยังไม่มีรายการขอสั่งซื้อใด ๆ ในขณะนี้.</p></div>'),Rr=n('<button class="bg-blue-500 text-white rounded p-1">จัดส่งเเล้ว</button>'),Mr=n('<button class="bg-green-500 text-white rounded p-1">อนุมัติ</button> <button class="bg-red-500 text-white rounded p-1">ไม่อนุมัติ</button>',1),Ur=n('<img alt="Uploaded Slip" style="max-width: 200px;" class="mb-4 rounded-lg shadow-sm">'),Fr=n('รหัสติดตามของ: <span class="text-gray-700"> </span>',1),Hr=n('<img alt="Uploaded Slip" style="max-width: 200px;" class="mb-4 rounded-lg shadow-sm">'),Lr=n('<div class="mb-4 p-4 border rounded-lg shadow-sm flex items-start bg-white"><div><p class="font-semibold text-blue-600"> </p> <p class="text-sm"><span class="font-semibold">Price:</span> </p> <p class="text-sm"><span class="font-semibold">Total:</span> </p></div></div>'),Nr=n('<tr><td colspan="6" class="bg-gray-50 p-4"><!> <p class="mb-1 text-sm font-semibold">Fullname: <span class="text-gray-700"> </span></p> <p class="mb-1 text-sm font-semibold">Email: <span class="text-gray-700"> </span></p> <p class="mb-1 text-sm font-semibold">Phone: <span class="text-gray-700"> </span></p> <p class="mb-3 text-sm font-semibold">Address: <span class="text-gray-700"> </span></p> <!> <!> <h4 class="text-lg font-semibold mb-2">Items:</h4> <!></td></tr>'),zr=n('<tr class="transition-colors duration-200 hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap"><!> <!></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><button class="text-blue-600 hover:text-blue-800 transition-colors"> </button></td></tr> <!>',1),Jr=n('<h2 class="text-xl font-semibold mb-4 text-blue-600">Orders All</h2> <div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">วันที่</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">สถานะ</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ยอดรวม</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">การดำเนินการ</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">รายละเอียด</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div>',1),Qr=n('<div class="bg-yellow-50 border-l-4 border-yellow-400 p-4"><p class="font-bold text-yellow-700">ยังไม่มีคำสั่งซื้อ</p> <p class="text-sm text-yellow-600">คุณยังไม่มีรายการขอสั่งซื้อใด ๆ ในขณะนี้.</p></div>'),Br=n('<button class="bg-blue-500 text-white rounded p-1">จัดส่งเเล้ว</button>'),Wr=n('<button class="bg-green-500 text-white rounded p-1">อนุมัติ</button> <button class="bg-red-500 text-white rounded p-1">ไม่อนุมัติ</button>',1),Zr=n('<img alt="Uploaded Slip Seller" style="max-width: 200px;" class="mb-4 rounded-lg shadow-sm">'),Gr=n('รหัสติดตามของ: <span class="text-gray-700"> </span>',1),Vr=n('<img alt="Uploaded Slip" style="max-width: 200px;" class="mb-4 rounded-lg shadow-sm">'),Xr=n('<div class="mb-4 p-4 border rounded-lg shadow-sm flex items-start bg-white"><div><p class="font-semibold text-blue-600"> </p> <p class="text-sm"><span class="font-semibold">Price:</span> </p> <p class="text-sm"><span class="font-semibold">Total:</span> </p></div></div>'),Kr=n('<tr><td colspan="6" class="bg-gray-50 p-4"><!> <p class="mb-1 text-sm font-semibold">Fullname: <span class="text-gray-700"> </span></p> <p class="mb-1 text-sm font-semibold">Email: <span class="text-gray-700"> </span></p> <p class="mb-1 text-sm font-semibold">Phone: <span class="text-gray-700"> </span></p> <p class="mb-3 text-sm font-semibold">Address: <span class="text-gray-700"> </span></p> <!> <!> <h4 class="text-lg font-semibold mb-2">Items:</h4> <!></td></tr>'),Yr=n('<tr class="transition-colors duration-200 hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap"><!> <!></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><button class="text-blue-600 hover:text-blue-800 transition-colors"> </button></td></tr> <!>',1),Ir=n('<h2 class="text-xl font-semibold mb-4 text-blue-600 mt-8">Orders All</h2> <div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">วันที่</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">สถานะ</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ยอดรวม</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">การดำเนินการ</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">รายละเอียด</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div>',1),ts=n("<!> <!>",1),es=n('<div class="bg-white rounded-lg shadow-md p-6"><h1 class="text-2xl font-semibold mb-6">คำสั่งซื้อของร้าน</h1> <!>  <!></div>'),as=n('<div class="min-h-screen bg-gray-100"><div class="container mx-auto px-4 py-8"><div class="flex flex-col md:flex-row gap-8"><aside class="w-full md:w-64 bg-blue-600 rounded-lg shadow-lg p-4 text-white transition-all duration-300"><div class="md:hidden flex justify-between items-center mb-4"><button class="text-white hover:text-gray-200 focus:outline-none"><i class="fa-solid fa-bars text-xl"></i></button> <!></div> <h2 class="text-lg font-semibold mb-4 hidden md:block">บัญชีของฉัน</h2> <ul class="space-y-2 hidden md:block"><li><i class="fa-solid fa-user mr-2"></i>บัญชีผู้ใช้</li> <li><i class="fa-solid fa-box mr-2"></i>คำสั่งซื้อของฉัน</li> <!> <li><i class="fa-solid fa-store mr-2"></i>การขอเปิดร้านค้า</li></ul></aside> <main class="flex-1 mt-4 md:mt-0"><!></main></div></div></div>'),rs=n('<div class="fixed inset-0 bg-gray-500 bg-opacity-40 flex justify-center items-center z-50 transform"><div class="bg-white p-10 rounded-lg shadow-xl w-[65vw] max-w-xl max-h-[50vh] space-y-6 border overflow-y-auto"><h2 class="text-2xl font-semibold text-gray-800">ส่งเลขพัสดุ</h2> <form><div class="space-y-4"><div><label for="reason" class="block text-gray-600">เลขพัสดุ</label> <input id="reason" type="text" class="w-full px-4 py-2 border rounded-lg shadow-sm" required></div></div> <div class="flex justify-end space-x-4 mt-6"><button type="button" class="bg-red-500 text-white p-2 pl-5 pr-5 rounded-lg hover:bg-red-600">ยกเลิก</button> <button type="button" class="bg-green-500 text-white p-2 pl-5 pr-5 rounded-lg hover:bg-green-600">ยืนยัน</button></div></form></div></div>'),ss=n('<div class="fixed inset-0 bg-gray-500 bg-opacity-40 flex justify-center items-center z-50 transform"><div class="bg-white p-10 rounded-lg shadow-xl w-[65vw] max-w-xl max-h-[50vh] space-y-6 border overflow-y-auto"><h2 class="text-2xl font-semibold text-gray-800">ส่งเลขพัสดุ</h2> <form><div class="space-y-4"><div><label for="reason" class="block text-gray-600">เลขพัสดุ</label> <input id="reason" type="text" class="w-full px-4 py-2 border rounded-lg shadow-sm" required></div></div> <div class="flex justify-end space-x-4 mt-6"><button type="button" class="bg-red-500 text-white p-2 pl-5 pr-5 rounded-lg hover:bg-red-600">ยกเลิก</button> <button type="button" class="bg-green-500 text-white p-2 pl-5 pr-5 rounded-lg hover:bg-green-600">ยืนยัน</button></div></form></div></div>'),os=n('<!> <!> <!> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">',1);function Ss(ca,da){Qa(da,!1);const[We,ua]=Ka(),va=()=>na(Ze,"$isLoading",We),ma=()=>na(He,"$isSellerRequestLoading",We),Ze=pa(!0);let _=X({}),U=X("account"),fe,be=X(null),ge=X(null),Ce=X(!1),Rt=X(null),pe=X([]),ce=X([]),ke=X([]),Se=X([]),te=X(null),He=pa(!1),Mt=X(""),Le=X(!1),Ne=X(!1),ee=0;function Pe(s){const o={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString("th-TH",o)}function $e(s){switch(s){case"รอการชำระเงิน":return"text-yellow-500";case"กำลังดำเนินการ":return"text-blue-500";case"อนุมัติ":return"text-green-500";case"จัดส่งแล้ว":return"text-green-500";case"ไม่อนุมัติ":return"text-red-500";default:return"text-gray-500"}}function wt(s){return s.toLocaleString("th-TH",{style:"currency",currency:"THB"})}function Ge(s,o){const u=s.target;if(u.files&&u.files[0]){const g=new FileReader;g.onload=D=>{var S,ct;o==="qr"?c(be,(S=D.target)==null?void 0:S.result):c(ge,(ct=D.target)==null?void 0:ct.result)},g.readAsDataURL(u.files[0])}}async function _a(s){var D,S,ct;s.preventDefault();const o=s.target,u=new FormData(o),g={user_name:(D=u.get("name"))==null?void 0:D.toString().trim(),user_email:(S=u.get("email"))==null?void 0:S.toString().trim(),user_pass:(ct=u.get("pass"))==null?void 0:ct.toString().trim()};if(!g.user_name||!g.user_email||!g.user_pass){alert("กรุณากรอกข้อมูลให้ครบทุกช่อง");return}try{const kt=t(_).user_id;if(!kt)return;const Ut=await fetch("http://localhost:3000/user/update",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:kt,user_data:g})});if(!Ut.ok)throw new Error(`HTTP error! Status: ${Ut.status}`);c(_,{...t(_),...g}),alert("อัปเดตข้อมูลสำเร็จ!"),Fe("/Profile")}catch(kt){console.error("Error updating user profile:",kt),alert("เกิดข้อผิดพลาดในการอัปเดตข้อมูล!")}}async function xa(s){if(s.preventDefault(),!t(be)||!t(ge)){alert("กรุณาอัปโหลดรูป QR Code และบัตรประชาชน");return}try{if(!fe)return;const o=await fetch("http://localhost:3000/user/request-seller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t(_).user_id,qr_code:t(be),proof_image:t(ge)})});if(!o.ok){const g=await o.json();throw new Error(`HTTP error! Status: ${o.status}, Message: ${g.message||"Unknown error"}`)}const u=await o.json();await Ke(),u.success?alert(u.message||"คำขอเปิดร้านค้าถูกส่งแล้ว!"):alert(u.message||"เกิดข้อผิดพลาดในการส่งคำขอ!")}catch(o){console.error("Error submitting shop request:",o),alert(`เกิดข้อผิดพลาด: ${o.message}`)}finally{c(be,null),c(ge,null);const o=document.getElementById("qrCode"),u=document.getElementById("idCard");o&&(o.value=""),u&&(u.value="")}}function fa(){c(Ce,!t(Ce))}function Oe(){c(Ce,!1)}function Ve(){c(Le,!1),c(Mt,""),ee=0}function ba(s){ee=s,c(Le,!0)}function ga(s){ee=s,c(Ne,!0)}function Xe(){c(Ne,!1),c(Mt,""),ee=0}function qe(s){c(Rt,t(Rt)===s?null:s)}let it=X({}),W=X({}),nt=X({}),Z=X({});function ha(s,o){const u=o.target,g=u.files&&u.files[0];if(!g){c(W,{...t(W),[s]:""});return}if(!g.type.startsWith("image/")){alert("Please select an image file."),c(W,{...t(W),[s]:""}),t(it)[s]&&pt(it,t(it)[s].value="");return}const D=5*1024*1024;if(g.size>D){alert("File size exceeds the limit (5MB)."),c(W,{...t(W),[s]:""}),t(it)[s]&&pt(it,t(it)[s].value="");return}const S=new FileReader;S.onload=()=>{c(W,{...t(W),[s]:S.result})},S.onerror=()=>{c(W,{...t(W),[s]:""}),alert("Error reading file."),t(it)[s]&&pt(it,t(it)[s].value="")},S.readAsDataURL(g)}async function ya(s){if(!t(W)[s]){alert("Please select a payment slip image.");return}try{const o=await fetch("http://localhost:3000/shop/publisher/payment/upload-proof",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:s,payment_slip:t(W)[s]})});if(!o.ok){const g=(await o.json()).message||"Failed to upload payment proof.";alert(g);return}alert("Payment proof submitted successfully!"),c(pe,t(pe).map(u=>u.order_id===s?{...u,payment_slip:t(W)[s],order_status:"กำลังดำเนินการ"}:u)),c(W,{...t(W),[s]:""}),t(it)[s]&&pt(it,t(it)[s].value="")}catch(o){console.error("Error uploading slip:",o),alert(`Error: ${o.message}`)}}function wa(s,o){const u=o.target,g=u.files&&u.files[0];if(!g){c(Z,{...t(Z),[s]:""});return}if(!g.type.startsWith("image/")){alert("Please select an image file."),c(Z,{...t(Z),[s]:""}),t(nt)[s]&&pt(nt,t(nt)[s].value="");return}const D=5*1024*1024;if(g.size>D){alert("File size exceeds the limit (5MB)."),c(Z,{...t(Z),[s]:""}),t(nt)[s]&&pt(nt,t(nt)[s].value="");return}const S=new FileReader;S.onload=()=>{c(Z,{...t(Z),[s]:S.result})},S.onerror=()=>{c(Z,{...t(Z),[s]:""}),alert("Error reading file."),t(nt)[s]&&pt(nt,t(nt)[s].value="")},S.readAsDataURL(g)}async function ka(s){if(!t(Z)[s]){alert("Please select a payment slip image.");return}try{const o=await fetch("http://localhost:3000/shop/seller/payment/upload-proof",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_order_id:s,payment_slip:t(Z)[s]})});if(!o.ok){const g=(await o.json()).message||"Failed to upload payment proof.";alert(g);return}alert("Payment proof submitted successfully!"),c(ce,t(ce).map(u=>u.order_id===s?{...u,payment_slip:t(Z)[s],order_status:"กำลังดำเนินการ"}:u)),c(Z,{...t(Z),[s]:""}),t(nt)[s]&&pt(nt,t(nt)[s].value="")}catch(o){console.error("Error uploading slip (seller):",o),alert(`Error: ${o.message}`)}}async function ze(){try{const s=await fetch(`http://localhost:3000/shop/publisher/order?token=${fe}`);if(!s.ok)throw new Error(`Publisher API Error: ${s.status} - ${await s.text()}`);const o=await s.json();c(pe,o)}catch{c(pe,[])}try{const s=await fetch(`http://localhost:3000/shop/seller/order?token=${fe}`);if(!s.ok)throw new Error(`Seller API Error: ${s.status} - ${await s.text()}`);const o=await s.json();c(ce,o)}catch{c(ce,[])}}async function je(){try{const s=await fetch(`http://localhost:3000/shop/publisher/order/getall/${t(_).user_id}`);if(!s.ok)throw new Error(`Publisher API Error: ${s.status} - ${await s.text()}`);const o=await s.json();c(ke,o)}catch{c(ke,[])}}async function Ee(){try{const s=await fetch(`http://localhost:3000/shop/seller/order/getall/${t(_).user_id}`);if(!s.ok)throw new Error(`Seller API Error: ${s.status} - ${await s.text()}`);const o=await s.json();c(Se,o)}catch{c(Se,[])}}async function Sa(s){try{if(!(await fetch(`http://localhost:3000/shop/seller/payment/approve/${s}`)).ok){alert("การอนุมัติไม่สำเร็จ");return}alert("การอนุมัติสำเร็จ")}catch{alert("การอนุมัติไม่สำเร็จ")}finally{await Ee()}}async function Pa(s){try{if(!(await fetch(`http://localhost:3000/shop/publisher/payment/approve/${s}`)).ok){alert("การอนุมัติไม่สำเร็จ");return}alert("การอนุมัติสำเร็จ")}catch{alert("การอนุมัติไม่สำเร็จ")}finally{await je()}}async function $a(s){try{(await fetch(`http://localhost:3000/shop/publisher/payment/reject/${s}`)).ok||alert("ไม่อนุมัติไม่สำเร็จ"),alert("ไม่อนุมัติสำเร็จ")}catch{alert("การอนุมัติไม่สำเร็จ")}finally{await je()}}async function Ta(s){try{(await fetch(`http://localhost:3000/shop/seller/payment/reject/${s}`)).ok||alert("ไม่อนุมัติไม่สำเร็จ"),alert("ไม่อนุมัติสำเร็จ")}catch{alert("การอนุมัติไม่สำเร็จ")}finally{await Ee()}}async function Da(){try{if(!(await fetch("http://localhost:3000/shop/publisher/order/shipping",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:ee,tracking_number:t(Mt)})})).ok){alert("การจัดส่งไม่สำเร็จ");return}alert("การจัดส่งสำเร็จ")}catch{alert("การจัดสังไม่สำเร็จ")}finally{ee=0,c(Mt,""),await je(),Ve()}}async function Ca(){try{if(!(await fetch("http://localhost:3000/shop/seller/order/shipping",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_order_id:ee,tracking_number:t(Mt)})})).ok){alert("การจัดส่งไม่สำเร็จ");return}alert("การจัดส่งสำเร็จ")}catch{alert("การจัดสังไม่สำเร็จ")}finally{ee=0,c(Mt,""),await Ee(),Xe()}}async function Oa(s){try{if(!(await fetch("http://localhost:3000/shop/buyer/publisher/order/received",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:s})})).ok){alert("เกิดข้อผิดพลาดขึ้นกรุณาลองใหม่ภายหลัง");return}alert("ยืนยันการได้รับของเเล้ว")}catch{alert("เกิดข้อผิดพลาดขึ้นกรุณาลองใหม่ภายหลัง")}finally{await ze()}}async function qa(s){try{if(!(await fetch("http://localhost:3000/shop/buyer/seller/order/received",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({seller_order_id:s})})).ok){alert("เกิดข้อผิดพลาดขึ้นกรุณาลองใหม่ภายหลัง");return}alert("ยืนยันการได้รับของเเล้ว")}catch{alert("เกิดข้อผิดพลาดขึ้นกรุณาลองใหม่ภายหลัง")}finally{await ze()}}async function Ke(){He.set(!0);try{const s=await fetch(`http://localhost:3000/user/request-seller/get/${t(_).user_id}`);if(!s.ok)throw new Error(`API Error: ${s.status} - ${await s.text()}`);const o=await s.json();c(te,o.seller_register)}catch(s){console.error("Error fetching seller request status:",s),c(te,null)}finally{He.set(!1)}}Ya(async()=>{if(fe=localStorage.getItem("userToken"),!fe){Fe("/login");return}try{const s=await Ia(fe);if(s)c(_,s),pt(_,t(_).user_name=t(_).user_name||"N/A"),pt(_,t(_).user_firstname=t(_).user_firstname||"N/A"),pt(_,t(_).user_lastname=t(_).user_lastname||"N/A"),pt(_,t(_).user_email=t(_).user_email||"N/A"),pt(_,t(_).user_image=t(_).user_image);else{console.error("Failed to fetch user data"),Fe("/login");return}}catch(s){console.error("On mount error",s),Fe("/login");return}await ze(),await je(),await Ee(),await Ke(),Ze.set(!1)}),Xa();var Ye=os(),Ie=T(Ye);{var ja=s=>{var o=tr(),u=a(o);e(o),et(3,u,()=>Va,()=>({duration:300,easing:Ga})),et(3,o,()=>we,()=>({duration:300})),l(s,o)},Ea=s=>{var o=as(),u=a(o),g=a(u),D=a(g),S=a(D),ct=a(S),kt=r(ct,2);{var Ut=dt=>{var at=ar(),ae=a(at),ue=r(ae,2),re=a(ue),ut=r(re,2),_t=r(ut,2);{var ve=Wt=>{var F=er();y(()=>yt(F,`px-4 py-2 rounded cursor-pointer hover:bg-blue-700 ${(t(U)==="shoporders"?"bg-blue-800":"")??""}`)),b("click",F,()=>c(U,"shopOrder")),l(Wt,F)};d(_t,Wt=>{(t(_).user_permission=="Publisher"||t(_).user_permission=="Seller")&&Wt(ve)})}var Ft=r(_t,2);e(ue),e(at),y(()=>{yt(re,`px-4 py-2 rounded cursor-pointer hover:bg-blue-700 ${(t(U)==="account"?"bg-blue-800 text-white":"text-white")??""}`),yt(ut,`px-4 py-2 rounded cursor-pointer hover:bg-blue-700 ${(t(U)==="orders"?"bg-blue-800 text-white":"text-white")??""}`),yt(Ft,`px-4 py-2 rounded cursor-pointer hover:bg-blue-700 ${(t(U)==="shopRequest"?"bg-blue-800 text-white":"text-white")??""}`)}),b("click",ae,Oe),b("click",re,()=>{c(U,"account"),Oe()}),b("click",ut,()=>{c(U,"orders"),Oe()}),b("click",Ft,()=>{c(U,"shopRequest"),Oe()}),et(1,at,()=>Bt),l(dt,at)};d(kt,dt=>{t(Ce)&&dt(Ut)})}e(S);var he=r(S,4),de=a(he),Je=r(de,2),ea=r(Je,2);{var Ua=dt=>{var at=rr();y(()=>yt(at,`px-4 py-2 rounded cursor-pointer hover:bg-blue-700 ${(t(U)==="shoporders"?"bg-blue-800":"")??""}`)),b("click",at,()=>c(U,"shopOrder")),l(dt,at)};d(ea,dt=>{(t(_).user_permission=="Publisher"||t(_).user_permission=="Seller")&&dt(Ua)})}var aa=r(ea,2);e(he),e(D);var ra=r(D,2),Fa=a(ra);{var Ha=dt=>{var at=sr(),ae=r(a(at),2),ue=a(ae),re=r(ue,2),ut=a(re),_t=r(a(ut)),ve=a(_t,!0);e(_t),e(ut);var Ft=r(ut,2),Wt=a(Ft);e(Ft);var F=r(Ft,2),vt=a(F);e(F),e(re),e(ae);var Ht=r(ae,2),Zt=a(Ht),Lt=r(a(Zt),2);Ue(Lt),e(Zt);var rt=r(Zt,2),G=r(a(rt),2);Ue(G),e(rt),Be(4),e(Ht),e(at),y(()=>{var St,Pt;ht(ue,"src",t(_).user_image),p(ve,t(_).user_name),p(Wt,`ชื่อจริง: ${t(_).user_firstname??""}
                    ${t(_).user_lastname??""}`),p(vt,`อีเมล: ${t(_).user_email??""}`),sa(Lt,((St=t(_))==null?void 0:St.user_name)??""),sa(G,((Pt=t(_))==null?void 0:Pt.user_email)??"")}),b("submit",Ht,_a),et(1,at,()=>we,()=>({delay:200})),l(dt,at)},La=dt=>{var at=ye(),ae=T(at);{var ue=ut=>{var _t=Tr(),ve=r(a(_t),2);{var Ft=F=>{var vt=or();l(F,vt)},Wt=F=>{var vt=$r(),Ht=T(vt);{var Zt=G=>{var St=_r(),Pt=r(T(St),2),Gt=a(Pt),H=r(a(Gt));ne(H,5,()=>t(pe),C=>C.order_id,(C,i)=>{var st=mr(),K=T(st),O=a(K),A=a(O,!0);e(O);var L=r(O),$t=a(L,!0);e(L);var N=r(L),P=a(N,!0);e(N);var z=r(N),w=a(z,!0);e(z);var xt=r(z),Tt=a(xt);{var h=v=>{var m=lr();l(v,m)},se=v=>{var m=ir(),q=a(m);la(q,(R,M)=>pt(it,t(it)[M.order_id]=R),R=>{var M;return(M=t(it))==null?void 0:M[R.order_id]},()=>[t(i)]);var mt=r(q,2);e(m),b("change",q,R=>ha(t(i).order_id,R)),b("click",mt,ia(()=>ya(t(i).order_id))),l(v,m)};d(Tt,v=>{t(i).payment_slip?v(h):v(se,!1)})}e(xt);var ot=r(xt),Vt=a(ot);{var Nt=v=>{var m=nr();b("click",m,()=>Oa(t(i).order_id)),l(v,m)};d(Vt,v=>{t(i).order_status=="จัดส่งเเล้ว"&&v(Nt)})}e(ot);var jt=r(ot),ft=a(jt),zt=a(ft,!0);e(ft),e(jt),e(K);var Xt=r(K,2);{var Jt=v=>{var m=vr(),q=a(m),mt=a(q);{var R=x=>{var f=pr();y(()=>ht(f,"src",t(W)[t(i).order_id])),l(x,f)};d(mt,x=>{t(W)[t(i).order_id]&&x(R)})}var M=r(mt,2),Qt=r(a(M)),Kt=a(Qt,!0);e(Qt),e(M);var $=r(M,2),J=r(a($)),bt=a(J,!0);e(J),e($);var k=r($,2),Q=r(a(k)),Y=a(Q,!0);e(Q),e(k);var I=r(k,2),Dt=r(a(I)),Et=a(Dt,!0);e(Dt),e(I);var At=r(I,2);{var me=x=>{var f=cr(),tt=r(T(f)),lt=a(tt,!0);e(tt),y(()=>p(lt,t(i).tracking_number)),l(x,f)};d(At,x=>{t(i).tracking_number&&x(me)})}var gt=r(At,2);{var Yt=x=>{var f=dr();y(()=>ht(f,"src",t(i).payment_slip)),l(x,f)};d(gt,x=>{t(i).payment_slip&&x(Yt)})}var _e=r(gt,4);ne(_e,1,()=>t(i).items,Me,(x,f)=>{var tt=ur(),lt=a(tt),Ct=a(lt),oe=a(Ct,!0);e(Ct);var Ot=r(Ct,2),xe=r(a(Ot));e(Ot);var j=r(Ot,2),B=r(a(j));e(j),e(lt),e(tt),y((qt,E)=>{p(oe,t(f).book_name_th),p(xe,` ${qt??""} x ${t(f).amount??""}`),p(B,` ${E??""}`)},[()=>wt(t(f).book_price),()=>wt(t(f).book_price*t(f).amount)],It),l(x,tt)}),e(q),e(m),y(()=>{p(Kt,t(i).fullname),p(bt,t(i).email),p(Y,t(i).phone),p(Et,t(i).address)}),et(1,m,()=>Bt),l(v,m)};d(Xt,v=>{t(Rt)===t(i).order_id&&v(Jt)})}y((v,m,q)=>{p(A,t(i).order_id),p($t,v),yt(N,`px-6 py-4 whitespace-nowrap text-sm ${m??""}`),p(P,t(i).order_status),p(w,q),p(zt,t(Rt)===t(i).order_id?"Hide Details":"Show Details")},[()=>Pe(t(i).order_time),()=>$e(t(i).order_status),()=>wt(t(i).total_price)],It),b("click",ft,()=>qe(t(i).order_id)),et(1,K,()=>Bt),l(C,st)}),e(H),e(Gt),e(Pt),l(G,St)};d(Ht,G=>{t(pe).length>0&&G(Zt)})}var Lt=r(Ht,2);{var rt=G=>{var St=Pr(),Pt=r(T(St),2),Gt=a(Pt),H=r(a(Gt));ne(H,5,()=>t(ce),C=>C.order_id,(C,i)=>{var st=Sr(),K=T(st),O=a(K),A=a(O,!0);e(O);var L=r(O),$t=a(L,!0);e(L);var N=r(L),P=a(N,!0);e(N);var z=r(N),w=a(z,!0);e(z);var xt=r(z),Tt=a(xt);{var h=v=>{var m=xr();l(v,m)},se=v=>{var m=fr(),q=a(m);la(q,(R,M)=>pt(nt,t(nt)[M.order_id]=R),R=>{var M;return(M=t(nt))==null?void 0:M[R.order_id]},()=>[t(i)]);var mt=r(q,2);e(m),b("change",q,R=>wa(t(i).order_id,R)),b("click",mt,ia(()=>ka(t(i).order_id))),l(v,m)};d(Tt,v=>{t(i).payment_slip?v(h):v(se,!1)})}e(xt);var ot=r(xt),Vt=a(ot);{var Nt=v=>{var m=br();b("click",m,()=>qa(t(i).order_id)),l(v,m)};d(Vt,v=>{t(i).order_status=="จัดส่งเเล้ว"&&v(Nt)})}e(ot);var jt=r(ot),ft=a(jt),zt=a(ft,!0);e(ft),e(jt),e(K);var Xt=r(K,2);{var Jt=v=>{var m=kr(),q=a(m),mt=a(q);{var R=x=>{var f=gr();y(()=>ht(f,"src",t(Z)[t(i).order_id])),l(x,f)};d(mt,x=>{t(Z)[t(i).order_id]&&x(R)})}var M=r(mt,2),Qt=r(a(M)),Kt=a(Qt,!0);e(Qt),e(M);var $=r(M,2),J=r(a($)),bt=a(J,!0);e(J),e($);var k=r($,2),Q=r(a(k)),Y=a(Q,!0);e(Q),e(k);var I=r(k,2),Dt=r(a(I)),Et=a(Dt,!0);e(Dt),e(I);var At=r(I,2);{var me=x=>{var f=hr(),tt=r(T(f)),lt=a(tt,!0);e(tt),y(()=>p(lt,t(i).tracking_number)),l(x,f)};d(At,x=>{t(i).tracking_number&&x(me)})}var gt=r(At,2);{var Yt=x=>{var f=yr();y(()=>ht(f,"src",t(i).payment_slip)),l(x,f)};d(gt,x=>{t(i).payment_slip&&x(Yt)})}var _e=r(gt,4);ne(_e,1,()=>t(i).items,Me,(x,f)=>{var tt=wr(),lt=a(tt),Ct=a(lt),oe=a(Ct,!0);e(Ct);var Ot=r(Ct,2),xe=r(a(Ot));e(Ot);var j=r(Ot,2),B=r(a(j));e(j),e(lt),e(tt),y((qt,E)=>{p(oe,t(f).book_name),p(xe,` ${qt??""} x ${t(f).amount??""}`),p(B,` ${E??""}`)},[()=>wt(t(f).book_price),()=>wt(t(f).book_price*t(f).amount)],It),l(x,tt)}),e(q),e(m),y(()=>{p(Kt,t(i).fullname),p(bt,t(i).email),p(Y,t(i).phone),p(Et,t(i).address)}),et(1,m,()=>Bt),l(v,m)};d(Xt,v=>{t(Rt)===t(i).order_id&&v(Jt)})}y((v,m,q)=>{p(A,t(i).order_id),p($t,v),yt(N,`px-6 py-4 whitespace-nowrap text-sm ${m??""}`),p(P,t(i).order_status),p(w,q),p(zt,t(Rt)===t(i).order_id?"Hide Details":"Show Details")},[()=>Pe(t(i).order_time),()=>$e(t(i).order_status),()=>wt(t(i).total_price)],It),b("click",ft,()=>qe(t(i).order_id)),et(1,K,()=>Bt),l(C,st)}),e(H),e(Gt),e(Pt),l(G,St)};d(Lt,G=>{t(ce).length>0&&G(rt)})}l(F,vt)};d(ve,F=>{t(pe).length===0&&t(ce).length===0?F(Ft):F(Wt,!1)})}e(_t),et(1,_t,()=>we,()=>({delay:200})),l(ut,_t)},re=ut=>{var _t=ye(),ve=T(_t);{var Ft=F=>{var vt=Er(),Ht=r(a(vt),2);{var Zt=rt=>{var G=Dr();l(rt,G)},Lt=rt=>{var G=ye(),St=T(G);{var Pt=H=>{var C=Cr(),i=a(C),st=r(a(i)),K=a(st,!0);e(st),e(i);var O=r(i,2),A=a(O);e(O);var L=r(O,4),$t=r(L,4);e(C),y((N,P)=>{yt(st,Za(N),"svelte-ypdzv2"),p(K,t(te).status),p(A,`วันที่ส่งคำขอ: ${P??""}`),ht(L,"src",t(te).qr_code),ht($t,"src",t(te).proof_image)},[()=>$e(t(te).status),()=>Pe(t(te).create_time)],It),l(H,C)},Gt=H=>{var C=jr(),i=a(C),st=r(a(i),2),K=r(st,2);{var O=P=>{var z=Or();y(()=>ht(z,"src",t(be))),l(P,z)};d(K,P=>{t(be)&&P(O)})}e(i);var A=r(i,2),L=r(a(A),2),$t=r(L,2);{var N=P=>{var z=qr();y(()=>ht(z,"src",t(ge))),l(P,z)};d($t,P=>{t(ge)&&P(N)})}e(A),Be(2),e(C),b("change",st,P=>Ge(P,"qr")),b("change",L,P=>Ge(P,"id")),b("submit",C,xa),l(H,C)};d(St,H=>{t(te)?H(Pt):H(Gt,!1)},!0)}l(rt,G)};d(Ht,rt=>{ma()?rt(Zt):rt(Lt,!1)})}e(vt),et(1,vt,()=>we,()=>({delay:200})),l(F,vt)},Wt=F=>{var vt=ye(),Ht=T(vt);{var Zt=Lt=>{var rt=es(),G=r(a(rt),2);{var St=H=>{var C=ye(),i=T(C);{var st=O=>{var A=Ar();l(O,A)},K=O=>{var A=ye(),L=T(A);{var $t=N=>{var P=Jr(),z=r(T(P),2),w=a(z),xt=r(a(w));ne(xt,5,()=>t(ke),Tt=>Tt.order_id,(Tt,h)=>{var se=zr(),ot=T(se),Vt=a(ot),Nt=a(Vt,!0);e(Vt);var jt=r(Vt),ft=a(jt,!0);e(jt);var zt=r(jt),Xt=a(zt,!0);e(zt);var Jt=r(zt),v=a(Jt,!0);e(Jt);var m=r(Jt),q=a(m);{var mt=k=>{var Q=Rr(),Y=Wa(()=>ba(t(h).order_id));b("click",Q,function(...I){var Dt;(Dt=t(Y))==null||Dt.apply(this,I)}),l(k,Q)};d(q,k=>{t(h).order_status=="อยู่ระหว่างการจัดส่ง"&&k(mt)})}var R=r(q,2);{var M=k=>{var Q=Mr(),Y=T(Q),I=r(Y,2);b("click",Y,()=>Pa(t(h).order_id)),b("click",I,()=>$a(t(h).order_id)),l(k,Q)};d(R,k=>{t(h).order_status=="กำลังดำเนินการ"&&k(M)})}e(m);var Qt=r(m),Kt=a(Qt),$=a(Kt,!0);e(Kt),e(Qt),e(ot);var J=r(ot,2);{var bt=k=>{var Q=Nr(),Y=a(Q),I=a(Y);{var Dt=E=>{var V=Ur();y(()=>ht(V,"src",t(W)[t(h).order_id])),l(E,V)};d(I,E=>{t(W)[t(h).order_id]&&E(Dt)})}var Et=r(I,2),At=r(a(Et)),me=a(At,!0);e(At),e(Et);var gt=r(Et,2),Yt=r(a(gt)),_e=a(Yt,!0);e(Yt),e(gt);var x=r(gt,2),f=r(a(x)),tt=a(f,!0);e(f),e(x);var lt=r(x,2),Ct=r(a(lt)),oe=a(Ct,!0);e(Ct),e(lt);var Ot=r(lt,2);{var xe=E=>{var V=Fr(),le=r(T(V)),ie=a(le,!0);e(le),y(()=>p(ie,t(h).tracking_number)),l(E,V)};d(Ot,E=>{t(h).tracking_number&&E(xe)})}var j=r(Ot,2);{var B=E=>{var V=Hr();y(()=>ht(V,"src",t(h).payment_slip)),l(E,V)};d(j,E=>{t(h).payment_slip&&E(B)})}var qt=r(j,4);ne(qt,1,()=>t(h).items,Me,(E,V)=>{var le=Lr(),ie=a(le),Te=a(ie),Ae=a(Te,!0);e(Te);var De=r(Te,2),Qe=r(a(De));e(De);var Re=r(De,2),Na=r(a(Re));e(Re),e(ie),e(le),y((za,Ja)=>{p(Ae,t(V).book_name_th),p(Qe,` ${za??""} x ${t(V).amount??""}`),p(Na,` ${Ja??""}`)},[()=>wt(t(V).book_price),()=>wt(t(V).book_price*t(V).amount)],It),l(E,le)}),e(Y),e(Q),y(()=>{p(me,t(h).fullname),p(_e,t(h).email),p(tt,t(h).phone),p(oe,t(h).address)}),et(1,Q,()=>Bt),l(k,Q)};d(J,k=>{t(Rt)===t(h).order_id&&k(bt)})}y((k,Q,Y)=>{p(Nt,t(h).order_id),p(ft,k),yt(zt,`px-6 py-4 whitespace-nowrap text-sm ${Q??""}`),p(Xt,t(h).order_status),p(v,Y),p($,t(Rt)===t(h).order_id?"Hide Details":"Show Details")},[()=>Pe(t(h).order_time),()=>$e(t(h).order_status),()=>wt(t(h).total_price)],It),b("click",Kt,()=>qe(t(h).order_id)),et(1,ot,()=>Bt),l(Tt,se)}),e(xt),e(w),e(z),l(N,P)};d(L,N=>{t(ke).length>0&&N($t)})}l(O,A)};d(i,O=>{t(ke).length===0?O(st):O(K,!1)})}l(H,C)};d(G,H=>{t(_).user_permission=="Publisher"&&H(St)})}var Pt=r(G,2);{var Gt=H=>{var C=ts(),i=T(C);{var st=A=>{var L=Qr();l(A,L)};d(i,A=>{t(Se).length===0&&A(st)})}var K=r(i,2);{var O=A=>{var L=Ir(),$t=r(T(L),2),N=a($t),P=r(a(N));ne(P,5,()=>t(Se),z=>z.order_id,(z,w)=>{var xt=Yr(),Tt=T(xt),h=a(Tt),se=a(h,!0);e(h);var ot=r(h),Vt=a(ot,!0);e(ot);var Nt=r(ot),jt=a(Nt,!0);e(Nt);var ft=r(Nt),zt=a(ft,!0);e(ft);var Xt=r(ft),Jt=a(Xt);{var v=$=>{var J=Br();b("click",J,()=>ga(t(w).order_id)),l($,J)};d(Jt,$=>{t(w).order_status=="อยู่ระหว่างการจัดส่ง"&&$(v)})}var m=r(Jt,2);{var q=$=>{var J=Wr(),bt=T(J),k=r(bt,2);b("click",bt,()=>Sa(t(w).order_id)),b("click",k,()=>Ta(t(w).order_id)),l($,J)};d(m,$=>{t(w).order_status=="กำลังดำเนินการ"&&$(q)})}e(Xt);var mt=r(Xt),R=a(mt),M=a(R,!0);e(R),e(mt),e(Tt);var Qt=r(Tt,2);{var Kt=$=>{var J=Kr(),bt=a(J),k=a(bt);{var Q=j=>{var B=Zr();y(()=>ht(B,"src",t(Z)[t(w).order_id])),l(j,B)};d(k,j=>{t(Z)[t(w).order_id]&&j(Q)})}var Y=r(k,2),I=r(a(Y)),Dt=a(I,!0);e(I),e(Y);var Et=r(Y,2),At=r(a(Et)),me=a(At,!0);e(At),e(Et);var gt=r(Et,2),Yt=r(a(gt)),_e=a(Yt,!0);e(Yt),e(gt);var x=r(gt,2),f=r(a(x)),tt=a(f,!0);e(f),e(x);var lt=r(x,2);{var Ct=j=>{var B=Gr(),qt=r(T(B)),E=a(qt,!0);e(qt),y(()=>p(E,t(w).tracking_number)),l(j,B)};d(lt,j=>{t(w).tracking_number&&j(Ct)})}var oe=r(lt,2);{var Ot=j=>{var B=Vr();y(()=>ht(B,"src",t(w).payment_slip)),l(j,B)};d(oe,j=>{t(w).payment_slip&&j(Ot)})}var xe=r(oe,4);ne(xe,1,()=>t(w).items,Me,(j,B)=>{var qt=Xr(),E=a(qt),V=a(E),le=a(V,!0);e(V);var ie=r(V,2),Te=r(a(ie));e(ie);var Ae=r(ie,2),De=r(a(Ae));e(Ae),e(E),e(qt),y((Qe,Re)=>{p(le,t(B).book_name),p(Te,` ${Qe??""} x ${t(B).amount??""}`),p(De,` ${Re??""}`)},[()=>wt(t(B).book_price),()=>wt(t(B).book_price*t(B).amount)],It),l(j,qt)}),e(bt),e(J),y(()=>{p(Dt,t(w).fullname),p(me,t(w).email),p(_e,t(w).phone),p(tt,t(w).address)}),et(1,J,()=>Bt),l($,J)};d(Qt,$=>{t(Rt)===t(w).order_id&&$(Kt)})}y(($,J,bt)=>{p(se,t(w).order_id),p(Vt,$),yt(Nt,`px-6 py-4 whitespace-nowrap text-sm ${J??""}`),p(jt,t(w).order_status),p(zt,bt),p(M,t(Rt)===t(w).order_id?"Hide Details":"Show Details")},[()=>Pe(t(w).order_time),()=>$e(t(w).order_status),()=>wt(t(w).total_price)],It),b("click",R,()=>qe(t(w).order_id)),et(1,Tt,()=>Bt),l(z,xt)}),e(P),e(N),e($t),l(A,L)};d(K,A=>{t(Se).length>0&&A(O)})}l(H,C)};d(Pt,H=>{t(_).user_permission=="Seller"&&H(Gt)})}e(rt),et(1,rt,()=>we,()=>({delay:200})),l(Lt,rt)};d(Ht,Lt=>{t(U)==="shopOrder"&&Lt(Zt)},!0)}l(F,vt)};d(ve,F=>{t(U)==="shopRequest"?F(Ft):F(Wt,!1)},!0)}l(ut,_t)};d(ae,ut=>{t(U)==="orders"?ut(ue):ut(re,!1)},!0)}l(dt,at)};d(Fa,dt=>{t(U)==="account"?dt(Ha):dt(La,!1)})}e(ra),e(g),e(u),e(o),y(()=>{yt(de,`px-4 py-2 rounded cursor-pointer hover:bg-blue-700 ${(t(U)==="account"?"bg-blue-800":"")??""}`),yt(Je,`px-4 py-2 rounded cursor-pointer hover:bg-blue-700 ${(t(U)==="orders"?"bg-blue-800":"")??""}`),yt(aa,`px-4 py-2 rounded cursor-pointer hover:bg-blue-700 ${(t(U)==="shopRequest"?"bg-blue-800":"")??""}`)}),b("click",ct,fa),b("click",de,()=>c(U,"account")),b("click",Je,()=>c(U,"orders")),b("click",aa,()=>c(U,"shopRequest")),et(1,D,()=>Bt),et(1,o,()=>we),l(s,o)};d(Ie,s=>{va()?s(ja):s(Ea,!1)})}var ta=r(Ie,2);{var Aa=s=>{var o=rs(),u=a(o),g=r(a(u),2),D=a(g),S=a(D),ct=r(a(S),2);Ue(ct),e(S),e(D);var kt=r(D,2),Ut=a(kt),he=r(Ut,2);e(kt),e(g),e(u),e(o),oa(ct,()=>t(Mt),de=>c(Mt,de)),b("click",Ut,Ve),b("click",he,Da),l(s,o)};d(ta,s=>{t(Le)&&s(Aa)})}var Ra=r(ta,2);{var Ma=s=>{var o=ss(),u=a(o),g=r(a(u),2),D=a(g),S=a(D),ct=r(a(S),2);Ue(ct),e(S),e(D);var kt=r(D,2),Ut=a(kt),he=r(Ut,2);e(kt),e(g),e(u),e(o),oa(ct,()=>t(Mt),de=>c(Mt,de)),b("click",Ut,Xe),b("click",he,Ca),l(s,o)};d(Ra,s=>{t(Ne)&&s(Ma)})}Be(2),l(ca,Ye),Ba(),ua()}export{Ss as component};
