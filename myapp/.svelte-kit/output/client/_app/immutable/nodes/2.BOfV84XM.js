import{a as v,t as y}from"../chunks/BpdS5ozQ.js";import"../chunks/ak-IiZ70.js";import{p as h,t as w,a as k,s as l,c as e,r as t,n as _,b as j,m as I,g as T}from"../chunks/BkNIMPUX.js";import{s as E}from"../chunks/8GdiTE-D.js";import{e as S}from"../chunks/BpZ3buzO.js";import{i as B}from"../chunks/CPaK9zB5.js";import{g as G}from"../chunks/CPiIr9-y.js";var L=y(`<main class="flex h-screen"><div class="hidden md:flex flex-1 bg-cover bg-center" style="background-image: url('https://static1.srcdn.com/wordpress/wp-content/uploads/2017/04/Family-Guy-the-Griffin-House.jpg');"></div> <div class="flex items-center justify-center w-full md:w-1/3 bg-white shadow-lg"><div class="w-full max-w-md p-8 space-y-6"><div class="text-center"><img src="https://i.imgflip.com/6362lr.png" alt="Logo" class="w-24 h-24 mx-auto mb-4"> <h1 class="text-2xl font-semibold text-gray-800">ลงชื่อเข้าใช้ ดิ๊</h1></div> <form class="space-y-4"><div><label for="username" class="block text-sm font-medium text-gray-700">ชื่อผู้ใช้</label> <input type="text" id="username" class="block w-full px-3 py-2 mt-1 text-gray-700 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"></div> <div><label for="password" class="block text-sm font-medium text-gray-700">รหัสผ่าน</label> <input type="password" id="password" class="block w-full px-3 py-2 mt-1 text-gray-700 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"></div> <div class="flex items-center justify-between"><a href="/Register/promax" class="text-sm font-medium text-blue-600 hover:underline">ลืมรหัสผ่าน?</a> <a href="/Register" class="text-sm font-medium text-blue-600 hover:underline">สมัครสมาชิก</a></div> <p> </p> <div><button type="submit" class="w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">ลงชื่อเข้าใช้</button></div></form></div></div></main>`);function N(u,c){h(c,!1);let i=I("");async function p(g){g.preventDefault();const b=document.getElementById("username"),x=document.getElementById("password");try{const s=await fetch("http://localhost:3000/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:b.value,user_pass:x.value})}),a=await s.json();s.ok&&a.message==="Login successful"?(localStorage.setItem("userToken",a.userToken),G("/main")):j(i,a.error)}catch(s){console.error("Error during login:",s)}}B();var r=L(),n=l(e(r),2),m=e(n),o=l(e(m),2),d=l(e(o),6),f=e(d,!0);t(d),_(2),t(o),t(m),t(n),t(r),w(()=>E(f,T(i))),S("submit",o,p),v(u,r),k()}export{N as component};
